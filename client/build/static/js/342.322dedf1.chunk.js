"use strict";(self.webpackChunkproduct_traceability_client=self.webpackChunkproduct_traceability_client||[]).push([[342],{8342:(e,r,a)=>{a.r(r),a.d(r,{default:()=>h});var t=a(9950),o=a(8429),s=a(9539),l=a(9348),d=(a(7705),a(4243)),i=a(9095),n=a(8286),c=a(3762),u=a(2959),m=a(3505),g=a(4414);const h=function(){const[e,r]=(0,t.useState)({productId:"",name:"",origin:"",manufacturer:"",description:"",blockchainRefHash:"",password:""}),[a,h]=(0,t.useState)(null),[x,b]=(0,t.useState)(null),[f,p]=(0,t.useState)(null),[k,v]=(0,t.useState)(!1),[y,w]=(0,t.useState)(""),[j,N]=(0,t.useState)(null),[R,C]=(0,t.useState)(null),[P,S]=(0,t.useState)(null),A=(0,o.Zp)();(0,t.useEffect)(()=>{(async()=>{try{console.log("Testing server connectivity...");const e=await fetch((0,m.buildAPIURL)("/api/test"));if(console.log("Server test response:",e.status),e.ok){const r=await e.json();console.log("Server is running:",r)}else console.error("Server test failed");console.log("Testing simple route...");const r=await fetch((0,m.buildAPIURL)("/api/add-product-simple"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({test:"data"})});if(console.log("Simple route response:",r.status),r.ok){const e=await r.json();console.log("Simple route working:",e)}else console.error("Simple route failed")}catch(e){console.error("Server connectivity error:",e)}})()},[]);const D=a=>{r({...e,[a.target.name]:a.target.value})};return(0,g.jsxs)("div",{className:"min-h-screen relative overflow-hidden transition-all duration-1000\r bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 \r dark:bg-gradient-to-br dark:from-slate-900 dark:via-emerald-950 dark:to-teal-950",children:[(0,g.jsx)("div",{className:"absolute inset-0 z-0 opacity-20 dark:opacity-40 transition-opacity duration-1000",children:(0,g.jsx)(u.A,{})}),(0,g.jsx)("div",{className:"opacity-30 dark:opacity-60 transition-opacity duration-1000",children:(0,g.jsx)(i.A,{})}),(0,g.jsx)("div",{className:"absolute inset-0 z-10 opacity-100 dark:opacity-0 transition-opacity duration-1000\r bg-gradient-to-br from-emerald-100/30 via-teal-100/20 to-cyan-100/30"}),(0,g.jsx)("div",{className:"absolute inset-0 z-10 opacity-0 dark:opacity-30 transition-opacity duration-1000",style:{backgroundImage:"\n            linear-gradient(rgba(16, 185, 129, 0.1) 1px, transparent 1px),\n            linear-gradient(90deg, rgba(16, 185, 129, 0.1) 1px, transparent 1px)\n          ",backgroundSize:"40px 40px"},children:(0,g.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-900/30 via-teal-900/20 to-cyan-900/30"})}),(0,g.jsxs)("div",{className:"relative z-20 min-h-screen flex items-center justify-center p-4",children:[(0,g.jsx)(l.N9,{position:"top-center",theme:"auto"}),(0,g.jsx)(c.A,{className:"w-full max-w-2xl backdrop-blur-xl border shadow-2xl transition-all duration-500\r bg-white/95 border-emerald-200/60 shadow-emerald-300/20\r dark:bg-slate-800/95 dark:border-emerald-400/30 dark:shadow-emerald-500/20\r hover:shadow-3xl hover:border-emerald-300/70 dark:hover:border-emerald-300/50",children:(0,g.jsx)("div",{className:"p-8",children:j?(0,g.jsxs)(s.P.div,{className:"text-center",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6},children:[(0,g.jsx)("div",{className:"flex justify-center mb-6",children:(0,g.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center",children:(0,g.jsx)(d.CMH,{className:"text-white text-3xl"})})}),(0,g.jsx)("h3",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent mb-4",children:"Product Registered Successfully!"}),(0,g.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-8",children:"Your product has been added to the blockchain. Scan or download the QR code below:"}),(0,g.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl mb-6",children:[(0,g.jsx)("img",{src:j,alt:"Product QR Code",className:"mx-auto mb-4 rounded-lg border-4 border-gray-200 dark:border-gray-700 shadow-lg max-w-xs w-full",onError:e=>{console.error("QR code image failed to load:",j),e.target.style.display="none"},onLoad:()=>{console.log("QR code image loaded successfully")}}),(0,g.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,g.jsxs)(n.A,{onClick:()=>{if(!j)return void l.oR.error("No QR code available to download");const e=`product-qr-${(null===P||void 0===P?void 0:P.productId)||"qr"}.png`;try{if(j.startsWith("data:")){const r=document.createElement("a");r.href=j,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),l.oR.success("QR code downloaded successfully!")}else{const r=R||j,a=document.createElement("a");a.href=r,a.download=e,a.target="_blank",a.rel="noopener noreferrer",document.body.appendChild(a),a.click(),document.body.removeChild(a),l.oR.success("QR code download started!")}}catch(y){console.error("Download error:",y),l.oR.error("Failed to download QR code")}},className:"px-6 py-3 font-semibold",glowColor:"blue",children:[(0,g.jsx)(d.WCW,{className:"mr-2"}),"Download QR Code"]}),(0,g.jsxs)(n.A,{onClick:()=>A("/admin/dashboard"),variant:"secondary",className:"px-6 py-3 font-semibold",glowColor:"green",children:[(0,g.jsx)(d.QVr,{className:"mr-2"}),"Go to Dashboard"]})]})]}),P&&(0,g.jsxs)("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-xl p-4 text-left mb-6",children:[(0,g.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Product Details:"}),(0,g.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-gray-600 dark:text-gray-300",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("strong",{children:"ID:"})," ",P.productId]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("strong",{children:"Name:"})," ",P.name]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("strong",{children:"Origin:"})," ",P.origin]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("strong",{children:"Manufacturer:"})," ",P.manufacturer]}),P.description&&(0,g.jsxs)("div",{className:"col-span-full",children:[(0,g.jsx)("strong",{children:"Description:"})," ",P.description]})]})]}),(0,g.jsx)("div",{className:"flex justify-center",children:(0,g.jsxs)(n.A,{onClick:()=>{N(null),C(null),S(null),r({productId:"",name:"",origin:"",manufacturer:"",description:"",blockchainRefHash:"",password:""}),h(null),b(null),p(null),w("")},variant:"ghost",className:"px-6 py-3 font-semibold",glowColor:"purple",children:[(0,g.jsx)(d.E5P,{className:"mr-2"}),"Add Another Product"]})})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(s.P.div,{className:"text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,g.jsx)("div",{className:"flex justify-center mb-6",children:(0,g.jsx)("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center shadow-xl transition-all duration-500\r bg-gradient-to-br from-emerald-500 via-teal-500 to-cyan-500\r dark:bg-gradient-to-br dark:from-emerald-400 dark:via-teal-400 dark:to-cyan-400\r dark:shadow-[0_0_30px_rgba(16,185,129,0.4)]\r hover:scale-110 hover:rotate-6 hover:shadow-2xl",children:(0,g.jsx)(d.E5P,{className:"text-white text-3xl drop-shadow-lg"})})}),(0,g.jsx)("h2",{className:"text-4xl font-bold mb-3 transition-all duration-500\r bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 \r dark:from-emerald-300 dark:via-teal-300 dark:to-cyan-300 \r bg-clip-text text-transparent\r dark:drop-shadow-[0_0_10px_rgba(16,185,129,0.5)]",children:"Add New Product"}),(0,g.jsx)("p",{className:"text-lg transition-all duration-500\r text-gray-600 dark:text-emerald-100/80 \r dark:drop-shadow-[0_0_5px_rgba(16,185,129,0.3)]",children:"Register your product on the blockchain"})]}),(0,g.jsxs)(s.P.form,{onSubmit:async r=>{if(r.preventDefault(),!e.password)return w("Password confirmation is required for security purposes"),void l.oR.error("Password confirmation is required");v(!0),w(""),console.log("Submitting form with data:",e),console.log("Certificate file:",a),console.log("Image file:",x);try{const r=new FormData;Object.entries(e).forEach(e=>{let[a,t]=e;r.append(a,t),console.log(`Adding to FormData: ${a} = ${t}`)}),a&&(r.append("certFile",a),console.log("Added certFile to FormData:",a.name)),x&&(r.append("imageFile",x),console.log("Added imageFile to FormData:",x.name)),console.log("=== FORMDATA DEBUG ===");for(let[e,a]of r.entries())console.log(`${e}:`,a instanceof File?`File: ${a.name}`:a);console.log("=== END FORMDATA DEBUG ===");const t=localStorage.getItem("token");console.log("Token:",t?"exists":"not found"),console.log("Making request to:",(0,m.buildAPIURL)("/api/add-product"));const o=await fetch((0,m.buildAPIURL)("/api/add-product"),{method:"POST",headers:{Authorization:`Bearer ${t}`},body:r});console.log("Response status:",o.status);const s=o.headers.get("content-type");if(console.log("Content-Type:",s),!s||!s.includes("application/json")){const e=await o.text();throw console.error("Non-JSON response:",e),new Error("Server returned non-JSON response")}const d=await o.json();if(console.log("Response data:",d),!o.ok)throw new Error(d.error||"Failed to add product");window.dispatchEvent(new Event("productAdded"));const i=d.qrCode;console.log("QR Code data received:",i),i?(console.log("QR Code data type:",typeof i),console.log("QR Code data keys:",Object.keys(i)),i.publicUrl?(console.log("Using publicUrl for QR code"),N(i.publicUrl),C(i.downloadUrl||i.publicUrl)):i.base64Data?(console.log("Using base64Data for QR code"),N(i.base64Data),C(i.base64Data)):"string"===typeof i?(console.log("Using string URL for QR code"),N(i),C(i)):(console.error("Unknown QR code format:",i),l.oR.error("QR code generated but format not recognized"),N(null))):(console.warn("No QR code data received from server"),l.oR.warning("Product created but QR code generation failed")),S(d.product),l.oR.success("Product added successfully!")}catch(t){console.error("Error adding product:",t),w(t.message),l.oR.error(t.message)}v(!1)},className:"space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,g.jsxs)("div",{className:"relative group",children:[(0,g.jsx)("label",{className:"block text-sm font-semibold mb-3 transition-all duration-300\r text-gray-700 group-focus-within:text-emerald-600 \r dark:text-slate-300 dark:group-focus-within:text-emerald-400",children:"Product ID"}),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 transition-all duration-300\r text-gray-400 group-focus-within:text-emerald-500 dark:group-focus-within:text-emerald-400",children:(0,g.jsx)(d.TXh,{className:"text-lg"})}),(0,g.jsx)("input",{name:"productId",placeholder:"Enter unique product ID",value:e.productId,onChange:D,required:!0,className:"w-full pl-12 pr-4 py-4 rounded-xl transition-all duration-300 font-medium input-enhanced\r bg-gray-50 border-2 border-gray-200 text-gray-900 placeholder-gray-500\r focus:bg-white focus:border-emerald-500 focus:ring-4 focus:ring-emerald-200/50\r hover:border-gray-300 hover:bg-gray-50/80\r dark:bg-slate-700/50 dark:border-slate-600 dark:text-slate-100 dark:placeholder-slate-400\r dark:focus:bg-slate-700/80 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/30\r dark:hover:border-slate-500 dark:hover:bg-slate-700/70\r shadow-sm hover:shadow-md focus:shadow-lg hover-lift\r dark:shadow-slate-800/50 dark:focus:shadow-emerald-500/20"})]})]}),(0,g.jsxs)("div",{className:"relative group",children:[(0,g.jsx)("label",{className:"block text-sm font-semibold mb-3 transition-all duration-300\r text-gray-700 group-focus-within:text-emerald-600 \r dark:text-slate-300 dark:group-focus-within:text-emerald-400",children:"Product Name"}),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 transition-all duration-300\r text-gray-400 group-focus-within:text-emerald-500 dark:group-focus-within:text-emerald-400",children:(0,g.jsx)(d.Y4c,{className:"text-lg"})}),(0,g.jsx)("input",{name:"name",placeholder:"Enter product name",value:e.name,onChange:D,required:!0,className:"w-full pl-12 pr-4 py-4 rounded-xl transition-all duration-300 font-medium input-enhanced\r bg-gray-50 border-2 border-gray-200 text-gray-900 placeholder-gray-500\r focus:bg-white focus:border-emerald-500 focus:ring-4 focus:ring-emerald-200/50\r hover:border-gray-300 hover:bg-gray-50/80\r dark:bg-slate-700/50 dark:border-slate-600 dark:text-slate-100 dark:placeholder-slate-400\r dark:focus:bg-slate-700/80 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/30\r dark:hover:border-slate-500 dark:hover:bg-slate-700/70\r shadow-sm hover:shadow-md focus:shadow-lg hover-lift\r dark:shadow-slate-800/50 dark:focus:shadow-emerald-500/20"})]})]}),(0,g.jsxs)("div",{className:"relative group",children:[(0,g.jsx)("label",{className:"block text-sm font-semibold mb-3 transition-all duration-300\r text-gray-700 group-focus-within:text-emerald-600 \r dark:text-slate-300 dark:group-focus-within:text-emerald-400",children:"Origin"}),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 transition-all duration-300\r text-gray-400 group-focus-within:text-emerald-500 dark:group-focus-within:text-emerald-400",children:(0,g.jsx)(d._mT,{className:"text-lg"})}),(0,g.jsx)("input",{name:"origin",placeholder:"Enter origin location",value:e.origin,onChange:D,required:!0,className:"w-full pl-12 pr-4 py-4 rounded-xl transition-all duration-300 font-medium input-enhanced\r bg-gray-50 border-2 border-gray-200 text-gray-900 placeholder-gray-500\r focus:bg-white focus:border-emerald-500 focus:ring-4 focus:ring-emerald-200/50\r hover:border-gray-300 hover:bg-gray-50/80\r dark:bg-slate-700/50 dark:border-slate-600 dark:text-slate-100 dark:placeholder-slate-400\r dark:focus:bg-slate-700/80 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/30\r dark:hover:border-slate-500 dark:hover:bg-slate-700/70\r shadow-sm hover:shadow-md focus:shadow-lg hover-lift\r dark:shadow-slate-800/50 dark:focus:shadow-emerald-500/20"})]})]}),(0,g.jsxs)("div",{className:"relative group",children:[(0,g.jsx)("label",{className:"block text-sm font-semibold mb-3 transition-all duration-300\r text-gray-700 group-focus-within:text-emerald-600 \r dark:text-slate-300 dark:group-focus-within:text-emerald-400",children:"Manufacturer"}),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 transition-all duration-300\r text-gray-400 group-focus-within:text-emerald-500 dark:group-focus-within:text-emerald-400",children:(0,g.jsx)(d.CLz,{className:"text-lg"})}),(0,g.jsx)("input",{name:"manufacturer",placeholder:"Enter manufacturer name",value:e.manufacturer,onChange:D,required:!0,className:"w-full pl-12 pr-4 py-4 rounded-xl transition-all duration-300 font-medium input-enhanced\r bg-gray-50 border-2 border-gray-200 text-gray-900 placeholder-gray-500\r focus:bg-white focus:border-emerald-500 focus:ring-4 focus:ring-emerald-200/50\r hover:border-gray-300 hover:bg-gray-50/80\r dark:bg-slate-700/50 dark:border-slate-600 dark:text-slate-100 dark:placeholder-slate-400\r dark:focus:bg-slate-700/80 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/30\r dark:hover:border-slate-500 dark:hover:bg-slate-700/70\r shadow-sm hover:shadow-md focus:shadow-lg hover-lift\r dark:shadow-slate-800/50 dark:focus:shadow-emerald-500/20"})]})]})]}),(0,g.jsxs)("div",{className:"relative group",children:[(0,g.jsx)("label",{className:"block text-sm font-semibold mb-3 transition-all duration-300\r text-gray-700 group-focus-within:text-emerald-600 \r dark:text-slate-300 dark:group-focus-within:text-emerald-400",children:"Description"}),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("div",{className:"absolute left-4 top-4 transition-all duration-300\r text-gray-400 group-focus-within:text-emerald-500 dark:group-focus-within:text-emerald-400",children:(0,g.jsx)(d.Y4c,{className:"text-lg"})}),(0,g.jsx)("textarea",{name:"description",placeholder:"Enter product description",value:e.description,onChange:D,rows:4,className:"w-full pl-12 pr-4 py-4 rounded-xl transition-all duration-300 font-medium resize-none\r bg-gray-50 border-2 border-gray-200 text-gray-900 placeholder-gray-500\r focus:bg-white focus:border-emerald-500 focus:ring-4 focus:ring-emerald-200/50\r hover:border-gray-300 hover:bg-gray-50/80\r dark:bg-slate-700/50 dark:border-slate-600 dark:text-slate-100 dark:placeholder-slate-400\r dark:focus:bg-slate-700/80 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/30\r dark:hover:border-slate-500 dark:hover:bg-slate-700/70\r shadow-sm hover:shadow-md focus:shadow-lg\r dark:shadow-slate-800/50 dark:focus:shadow-emerald-500/20"})]})]}),(0,g.jsxs)("div",{className:"relative group",children:[(0,g.jsxs)("label",{className:"block text-sm font-semibold mb-3 transition-all duration-300\r text-gray-700 group-focus-within:text-emerald-600 \r dark:text-slate-300 dark:group-focus-within:text-emerald-400",children:["Certification Hash",(0,g.jsx)("span",{className:"text-xs font-normal text-gray-500 dark:text-gray-400 ml-2",children:"(Optional)"})]}),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 transition-all duration-300\r text-gray-400 group-focus-within:text-emerald-500 dark:group-focus-within:text-emerald-400",children:(0,g.jsx)(d.veT,{className:"text-lg"})}),(0,g.jsx)("input",{name:"blockchainRefHash",placeholder:"Enter certification hash",value:e.blockchainRefHash,onChange:D,className:"w-full pl-12 pr-4 py-4 rounded-xl transition-all duration-300 font-medium input-enhanced\r bg-gray-50 border-2 border-gray-200 text-gray-900 placeholder-gray-500\r focus:bg-white focus:border-emerald-500 focus:ring-4 focus:ring-emerald-200/50\r hover:border-gray-300 hover:bg-gray-50/80\r dark:bg-slate-700/50 dark:border-slate-600 dark:text-slate-100 dark:placeholder-slate-400\r dark:focus:bg-slate-700/80 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/30\r dark:hover:border-slate-500 dark:hover:bg-slate-700/70\r shadow-sm hover:shadow-md focus:shadow-lg hover-lift\r dark:shadow-slate-800/50 dark:focus:shadow-emerald-500/20"})]})]}),(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,g.jsxs)("div",{className:"relative group",children:[(0,g.jsx)("label",{className:"block text-sm font-semibold mb-3 transition-all duration-300\r text-gray-700 group-focus-within:text-emerald-600 \r dark:text-slate-300 dark:group-focus-within:text-emerald-400",children:"Product Image"}),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 transition-all duration-300 z-10\r text-gray-400 group-focus-within:text-emerald-500 dark:group-focus-within:text-emerald-400",children:(0,g.jsx)(d.dkL,{className:"text-lg"})}),(0,g.jsx)("input",{type:"file",name:"imageFile",accept:"image/*",onChange:e=>{const r=e.target.files[0];if(b(r),r){const e=new FileReader;e.onloadend=()=>p(e.result),e.readAsDataURL(r)}else p(null)},className:"w-full pl-12 pr-4 py-4 rounded-xl transition-all duration-300 font-medium\r bg-gray-50 border-2 border-gray-200 text-gray-900 placeholder-gray-500\r focus:bg-white focus:border-emerald-500 focus:ring-4 focus:ring-emerald-200/50\r hover:border-gray-300 hover:bg-gray-50/80\r dark:bg-slate-700/50 dark:border-slate-600 dark:text-slate-100\r dark:focus:bg-slate-700/80 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/30\r dark:hover:border-slate-500 dark:hover:bg-slate-700/70\r shadow-sm hover:shadow-md focus:shadow-lg hover-lift\r dark:shadow-slate-800/50 dark:focus:shadow-emerald-500/20\r file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold \r file:bg-emerald-50 file:text-emerald-700 hover:file:bg-emerald-100 file:transition-all\r dark:file:bg-emerald-900/50 dark:file:text-emerald-300 dark:hover:file:bg-emerald-900/70"})]}),f&&(0,g.jsx)(s.P.div,{className:"mt-4",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:(0,g.jsx)("img",{src:f,alt:"Preview",className:"w-full h-40 object-cover rounded-xl border-2 border-emerald-200 dark:border-emerald-700 shadow-lg hover:shadow-xl transition-all duration-300"})})]}),(0,g.jsxs)("div",{className:"relative group",children:[(0,g.jsx)("label",{className:"block text-sm font-semibold mb-3 transition-all duration-300\r text-gray-700 group-focus-within:text-emerald-600 \r dark:text-slate-300 dark:group-focus-within:text-emerald-400",children:"Certificate File"}),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 transition-all duration-300 z-10\r text-gray-400 group-focus-within:text-emerald-500 dark:group-focus-within:text-emerald-400",children:(0,g.jsx)(d.veT,{className:"text-lg"})}),(0,g.jsx)("input",{type:"file",name:"certFile",accept:"image/*,.pdf",onChange:e=>{h(e.target.files[0])},className:"w-full pl-12 pr-4 py-4 rounded-xl transition-all duration-300 font-medium\r bg-gray-50 border-2 border-gray-200 text-gray-900 placeholder-gray-500\r focus:bg-white focus:border-emerald-500 focus:ring-4 focus:ring-emerald-200/50\r hover:border-gray-300 hover:bg-gray-50/80\r dark:bg-slate-700/50 dark:border-slate-600 dark:text-slate-100\r dark:focus:bg-slate-700/80 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/30\r dark:hover:border-slate-500 dark:hover:bg-slate-700/70\r shadow-sm hover:shadow-md focus:shadow-lg hover-lift\r dark:shadow-slate-800/50 dark:focus:shadow-emerald-500/20\r file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold \r file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 file:transition-all\r dark:file:bg-blue-900/50 dark:file:text-blue-300 dark:hover:file:bg-blue-900/70"})]}),a&&(0,g.jsxs)(s.P.div,{className:"mt-4 p-3 rounded-xl bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[(0,g.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium",children:["\ud83d\udcc4 ",a.name]}),(0,g.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:[(a.size/1024).toFixed(1)," KB"]})]})]})]}),(0,g.jsxs)("div",{className:"relative group border-2 border-amber-100 dark:border-amber-900/30 bg-amber-50 dark:bg-amber-900/10 p-6 rounded-lg",children:[(0,g.jsxs)("div",{className:"flex items-center mb-3",children:[(0,g.jsx)(d.JhU,{className:"text-amber-500 dark:text-amber-400 mr-2"}),(0,g.jsx)("label",{className:"block text-sm font-semibold transition-all duration-300\r text-amber-700 dark:text-amber-300",children:"Password Confirmation (Required)"})]}),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 transition-all duration-300\r text-gray-400 group-focus-within:text-amber-500 dark:group-focus-within:text-amber-400",children:(0,g.jsx)(d.JhU,{className:"text-lg"})}),(0,g.jsx)("input",{type:"password",name:"password",placeholder:"Enter your password to confirm",value:e.password,onChange:D,required:!0,className:"w-full pl-12 pr-4 py-4 rounded-xl transition-all duration-300 font-medium\r bg-white border-2 border-amber-200 text-gray-900 placeholder-gray-500\r focus:bg-white focus:border-amber-500 focus:ring-4 focus:ring-amber-200/50\r hover:border-amber-300 hover:bg-white\r dark:bg-slate-700 dark:border-amber-700 dark:text-slate-100\r dark:focus:bg-slate-700 dark:focus:border-amber-500 dark:focus:ring-amber-500/30\r dark:hover:border-amber-600 dark:hover:bg-slate-700\r shadow-sm hover:shadow-md focus:shadow-lg"})]}),(0,g.jsx)("p",{className:"mt-2 text-xs text-amber-700 dark:text-amber-400",children:"Password confirmation is required for security purposes when adding new products"})]}),y&&(0,g.jsx)(s.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg p-4 text-red-700 dark:text-red-300",children:y}),(0,g.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[(0,g.jsx)(n.A,{type:"submit",disabled:k,variant:"primary",size:"lg",className:"flex-1 font-bold tracking-wide",children:k?(0,g.jsxs)("div",{className:"flex items-center justify-center",children:[(0,g.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),(0,g.jsx)("span",{children:"Adding Product..."})]}):(0,g.jsxs)("div",{className:"flex items-center justify-center",children:[(0,g.jsx)(d.E5P,{className:"mr-3 text-lg"}),(0,g.jsx)("span",{children:"Add Product"})]})}),(0,g.jsx)(n.A,{onClick:()=>A(-1),variant:"outline",size:"lg",className:"flex-1 sm:flex-initial px-8 font-bold tracking-wide",children:(0,g.jsxs)("div",{className:"flex items-center justify-center",children:[(0,g.jsx)(d.QCr,{className:"mr-3 text-lg"}),(0,g.jsx)("span",{children:"Cancel"})]})})]})]})]})})})]})]})}}}]);